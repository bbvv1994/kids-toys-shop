# üîÑ –û—Ç–∫–∞—Ç —Å–µ—Ä–≤–µ—Ä–∞ –∫ –∫–æ–º–º–∏—Ç—É b0b2411

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–ö–æ–º–º–∏—Ç `b0b241184133ae08c5d3f01ba4816b3a4c0afdb1` - —ç—Ç–æ —Å—Ç–∞–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è.

## üöÄ –°–ø–æ—Å–æ–±—ã –æ—Ç–∫–∞—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

### –°–ø–æ—Å–æ–± 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–∏–ø—Ç (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# 1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh root@YOUR_SERVER_IP

# 2. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
su - kids-toys

# 3. –°–∫–∞—á–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –æ—Ç–∫–∞—Ç–∞
wget https://raw.githubusercontent.com/bbvv1994/kids-toys-shop/main/server-rollback.sh
chmod +x server-rollback.sh

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –æ—Ç–∫–∞—Ç
./server-rollback.sh
```

### –°–ø–æ—Å–æ–± 2: –†—É—á–Ω–æ–π –æ—Ç–∫–∞—Ç

```bash
# 1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh root@YOUR_SERVER_IP

# 2. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
su - kids-toys

# 3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd /home/kids-toys/app

# 4. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
pm2 stop kids-toys-backend

# 5. –ü–æ–ª—É—á–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
git fetch origin

# 6. –û—Ç–∫–∞—Ç–∏—Ç–µ—Å—å –∫ –∫–æ–º–º–∏—Ç—É b0b2411
git reset --hard b0b241184133ae08c5d3f01ba4816b3a4c0afdb1

# 7. –û–±–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ backend
cd backend
npm install
npx prisma generate
npx prisma migrate deploy
cd ..

# 8. –û–±–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ frontend
cd frontend
npm install
npm run build
cd ..

# 9. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
pm2 start ecosystem.config.js
pm2 save

# 10. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å
pm2 status
/home/kids-toys/monitor.sh
```

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –æ—Ç–∫–∞—Ç–∞

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
```bash
/home/kids-toys/monitor.sh
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ API endpoints
```bash
curl http://localhost:5000/api/products
curl http://localhost:5000/api/categories
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
```bash
pm2 logs kids-toys-backend
```

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ frontend
- –û—Ç–∫—Ä–æ–π—Ç–µ —Å–∞–π—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–≥—Ä—É–∑–∫—É –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤

## üö® –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ï—Å–ª–∏ API –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç:
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
pm2 logs kids-toys-backend

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
pm2 restart kids-toys-backend
```

### –ï—Å–ª–∏ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å PostgreSQL
sudo systemctl status postgresql

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏
cd /home/kids-toys/app/backend
npx prisma migrate status
npx prisma migrate deploy
```

### –ï—Å–ª–∏ frontend –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è:
```bash
# –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ frontend
cd /home/kids-toys/app/frontend
npm run build

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Nginx
sudo systemctl status nginx
sudo nginx -t
sudo systemctl reload nginx
```

## üéØ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –æ—Ç–∫–∞—Ç–∞:
- ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ –£–ª—É—á—à–µ–Ω–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ –†–∞–±–æ—á–∏–µ API endpoints
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—é—â–∏–π—Å—è frontend

---

**üéâ –£–¥–∞—á–Ω–æ–≥–æ –æ—Ç–∫–∞—Ç–∞!**
